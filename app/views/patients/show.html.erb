<main>
<body>
  <header>
    <h2>Mis pacientes</h2>
  </header>
 
<main>
  <h2><%= @patient.name + " " + @patient.lastname %></h2>
    <div class="data-group-general">
      <span><strong>DNI:</strong> <%= @patient.dni %></span>
      <span><strong>Fecha de nacimiento: </strong> <%= @patient.birth_date %></span>
    </div>

    <h3 onclick="toggleDataGroup(event)">Datos de contacto</h3>
    <div class="data-group-contact">
      <span><strong>Dirección:</strong> <%= @patient.try(:address) %></span>
      <span><strong>Teléfono:</strong> <%= @patient.try(:phone) %></span>
    </div>

    <h3 onclick="toggleDataGroup(event)">Historia</h3>
    <div class="data-group-records">
      <span><strong>Historia familiar:</strong> <%= @patient.try(:family_history) %></span>
      <span><strong>Historia personal:</strong> <%= @patient.try(:personal_history) %></span>
    </div>

    <h3 onclick="toggleDataGroup(event)">Composicion familiar</h3>
    <div class="data-group-family">
      <span><strong>Número de hijos:</strong> <%= @patient.try(:children) %></span>
      <span><strong>Pareja:</strong> <%= @patient.try(:partner) %></span>
      <span><strong>Padres:</strong> <%= @patient.try(:parents) %></span>
      <span><strong>Hermanos:</strong> <%= @patient.try(:siblings) %></span>
    </div>

    <h3 onclick="toggleDataGroup(event)">Datos laborales</h3>
    <div class="data-group-job">
      <span><strong>Ocupación:</strong> <%= @patient.try(:occupation) %></span>
    </div>

    <h3 onclick="toggleDataGroup(event)">Habitos</h3>
    <div class="data-group-habits">
      <span><strong>Dieta:</strong> <%= @patient.try(:diet) %></span>
      <span><strong>Ejercicio:</strong> <%= @patient.try(:exercise) %></span>
      <span><strong>Uso de sustancias:</strong> <%= @patient.try(:substance_use) %></span>
      <span><strong>Actividad sexual:</strong> <%= @patient.try(:sexual_activity) %></span>
    </div>

    <h3 onclick="toggleDataGroup(event)">Consultas</h3>
      <div class="consult-field">
        <span><strong>Registro de consultas:</strong> <%= @patient.try(:consult_record) %></span>
        <%= form_with(model: @patient, local: true) do |form| %>
          <div class="consult-field">
            <%= form.label :consult_record, "Nueva consulta:" %>
            <%= form.text_field :consult_record %>
          </div>
    <div class="actions">
      <%= form.submit "Actualizar" %>
    </div>
  <% end %>
</div>

    </div>
</main>


</body>
</main>
